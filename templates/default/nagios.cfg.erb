# Autogenerated by Chef.

log_file=<%= node['nagios']['log_dir'] %>/<%= node['nagios']['server']['name'] %>.log

admin_email=<%= node['nagios']['sysadmin_email'] %>
admin_pager=<%= node['nagios']['sysadmin_sms_email'] %>

cfg_dir=<%= node['nagios']['config_dir'] %>

object_cache_file=<%= node['nagios']['cache_dir'] %>/objects.cache
precached_object_file=<%= node['nagios']['cache_dir'] %>/objects.precache

resource_file=<%= node['nagios']['resource_dir'] %>/resource.cfg
status_file=<%= node['nagios']['cache_dir'] %>/status.dat
status_update_interval=10
<%= node['nagios']['server']['name'] %>_user=<%= node['nagios']['user'] %>
<%= node['nagios']['server']['name'] %>_group=<%= node['nagios']['group'] %>
check_external_commands=<%= nagios_boolean(node['nagios']['check_external_commands']) %>

# NOTE: Setting this value to -1 causes Nagios to check the external command file as often as possible.
command_check_interval=-1

command_file=<%= node['nagios']['state_dir'] %>/rw/<%= node['nagios']['server']['name'] %>.cmd
external_command_buffer_slots=4096
lock_file=<%= node['nagios']['run_dir'] %>/<%= node['nagios']['server']['vname'] %>.pid
temp_file=<%= node['nagios']['cache_dir'] %>/<%= node['nagios']['server']['name'] %>.tmp
temp_path=/tmp
event_broker_options=-1
<% node['nagios']['brokers'].each do |brokerPath, brokerConfig| -%>
broker_module=<%= brokerPath %> <%= brokerConfig %>
<% end -%>

# replacement for how config is setup
<% @config_opts.each do |key, value| -%>
<%   next if value.nil? -%>
<%   case value -%>
<%   when Array -%>
<%     value.each do |v| -%>
<%=      key %>=<%= v%>
<%     end -%>
<%   when String, Integer -%>
<%=    key %>=<%= value %>
<%   end -%>
<% end -%>

#service_perfdata_command=ngraph-process-service-perfdata-pipe
<%= "host_perfdata_command=#{node['nagios']['conf']['host_perfdata_command']}" unless node['nagios']['conf']['host_perfdata_command'].nil? %>
<%= "host_perfdata_command=#{node['nagios']['conf']['service_perfdata_command']}" unless node['nagios']['conf']['service_perfdata_command'].nil? %>#service_perfdata_command=process-service-perfdata


<% if node['nagios']['server']['install_method'] == 'source' -%>allow_empty_hostgroup_assignment=1<% end -%>

<% if node['nagios']['conf']['p1_file'] %>
p1_file=<%= node['nagios']['conf']['p1_file'] %>
<% end %>
enable_embedded_perl=1
use_embedded_perl_implicitly=1

illegal_object_name_chars=`~!$%^&*|'"<>?,()=
illegal_macro_output_chars=`~$&|'"<>

use_regexp_matching=<%= node['nagios']['regexp_matching'] %>
use_true_regexp_matching=0

daemon_dumps_core=0

use_large_installation_tweaks=<%= node['nagios']['large_installation_tweaks'] %>

enable_environment_macros=1
